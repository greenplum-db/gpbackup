# CI Usage
The core pipelines for gpbackup are to be generated by `gen_pipeline.py`.  This script will use the contents of `/templates` to correctly build and interpolate dev and prod pipelines for testing.  All changes to the main CI should be made to this template, and then the relevant pipeline should be re-generated and re-flown.

# Secrets
All secrets in the CI are handled as [interpolated vars](https://concourse-ci.org/vars.html#var-syntax).  Almost all of these are housed in a [Vault instance](https://www.vaultproject.io/) managed by the RelEng team.  Please contact RelEng for access and guidance as needed.  Any updates or additions to CI secrets must be made in Vault.

The only exception is the `gpbackup-git-branch` var, which must be passed in using the `v=BRANCHNAME` argument when flying the pipeline.  The `gen_pipeline.py` script provides an example cli invocation that will demonstrate this.

# Other Pipelines
There are other pipelines, such as those housed in `/regression` and `/scale` that are not generated automatically, and are instead manually maintained.  These still use the same Vault interpolation of secrets and cli branch name conventions when being flown.  Usage of each is described in the relevant directories.
